# Production Environment Configuration

# Disable ESLint in production
DISABLE_ESLINT_PLUGIN=true
ESLINT_NO_DEV_ERRORS=true

# Production API URLs
REACT_APP_API_URL=https://collaba-backend-22526857343.us-central1.run.app
REACT_APP_WS_URL=wss://collaba-backend-22526857343.us-central1.run.app

# Legacy environment variables (for backward compatibility)
API_BASE_URL=https://collaba-backend-22526857343.us-central1.run.app
WEBSOCKET_URL=wss://collaba-backend-22526857343.us-central1.run.app

# Production settings
NODE_ENV=production
GENERATE_SOURCEMAP=false

gcloud run deploy messaging-app-frontend \
  --image asia-south1-docker.pkg.dev/collab-471321/collaba/messaging-app-backend:latest \
  --platform managed \
  --region asia-south1 \
  --allow-unauthenticated \
  --port 80 \
  --memory 512Mi \
  --cpu 1 \
  --max-instances 1 \
  --set-env-vars "NODE_ENV=production,GENERATE_SOURCEMAP=false" \
  --set-env-vars "REACT_APP_API_URL=https://collaba-backend-22526857343.us-central1.run.app" \
  --set-env-vars "REACT_APP_WS_URL=wss://collaba-backend-22526857343.us-central1.run.app" \
  --set-env-vars "API_BASE_URL=https://collaba-backend-22526857343.us-central1.run.app" \
  --set-env-vars "WEBSOCKET_URL=wss://collaba-backend-22526857343.us-central1.run.app" \
  --set-env-vars "DISABLE_ESLINT_PLUGIN=true,ESLINT_NO_DEV_ERRORS=true"